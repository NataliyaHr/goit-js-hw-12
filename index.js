var f=Object.defineProperty;var y=(s,e,t)=>e in s?f(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var o=(s,e,t)=>y(s,typeof e!="symbol"?e+"":e,t);import{a as b,i as l,S as I}from"./assets/vendor-Dp7Ig4E2.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))m(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const g of a.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&m(g)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function m(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();class L{constructor(e){o(this,"BASE_URL","https://pixabay.com/api/");o(this,"currentPage",1);o(this,"resultsPerPage",15);o(this,"totalPages",0);o(this,"query","");this.apiKey=e}async getImageList(){const e={params:{key:this.apiKey,q:this.query,image_type:"photo",orientation:"horizontal",safesearch:"true",page:this.currentPage,per_page:this.resultsPerPage}};try{const t=await b.get(this.BASE_URL,e);return this.totalPages=Math.ceil(t.data.totalHits/15),t.data.hits}catch{throw new Error("something went wrong")}}}function p(s){return s.length<=0?(l.error({message:"Sorry, there are no images matching your search query. Please try again!",progressBar:!1,transitionIn:"fadeIn",position:"topRight"}),"no images found"):s.map(t=>`<li class="gallery-item">
            <a class="gallery-link" href="${t.largeImageURL}">
              <img src="${t.webformatURL}" alt="${t.tags}" width="360" height="200">
            </a>
            <ul class="gallery-item-desc">
              <li class="gallery-item-desc-item"><span class="gallery-item-desc-cap">Likes</span><span>${t.likes}</span></li>
              <li class="gallery-item-desc-item"><span class="gallery-item-desc-cap">Views</span><span>${t.views}</span></li>
              <li class="gallery-item-desc-item"><span class="gallery-item-desc-cap">Comments</span><span>${t.comments}</span></li>
              <li class="gallery-item-desc-item"><span class="gallery-item-desc-cap">Downloads</span><span>${t.downloads}</span></li>
            </ul>
          </li>`).join("")}function h(s,e){e.insertAdjacentHTML("beforeend",s)}const u=document.querySelector(".gallery-list"),w=document.querySelector(".search-form-input"),E=document.querySelector(".search-form"),n=document.querySelector(".loader"),c=document.querySelector(".load-more-button"),P="44799740-e5447d6b9b58b3b9f4f848c49",i=new L(P),d=new I(".gallery-list a",{captionDelay:250,captionsData:"alt"});async function q(s){if(s.preventDefault(),u.innerHTML="",i.currentPage=1,i.query=w.value,htmlElementVisible(c,!1),isValidQuery(i.query))try{htmlElementVisible(n,!0);const e=await i.getImageList();if(htmlElementVisible(n,!1),e.length>0){const t=p(e);h(t,u),d.refresh(),i.totalPages>1&&htmlElementVisible(c,!0)}else l.info({message:"No images found",progressBar:!1,transitionIn:"fadeIn",position:"topRight"})}catch(e){htmlElementVisible(n,!1),l.error({message:`Error occurred while searching for images: ${e.message}`,progressBar:!1,transitionIn:"fadeIn",position:"topRight"})}else l.error({message:"Search attribute is not valid",progressBar:!1,transitionIn:"fadeIn",position:"topRight"})}async function S(s){s.preventDefault(),i.currentPage+=1,htmlElementVisible(n,!0),htmlElementVisible(c,!1);try{const e=await i.getImageList();htmlElementVisible(n,!1);const t=p(e);h(t,u),d.refresh();const m=document.querySelector(".gallery-item");window.scrollBy({top:m.getBoundingClientRect().height*2,behavior:"smooth"}),i.totalPages===i.currentPage?(htmlElementVisible(c,!1),l.info({message:"We're sorry, but you've reached the end of search results.",progressBar:!1,transitionIn:"fadeIn",position:"topRight"})):htmlElementVisible(c,!0)}catch(e){htmlElementVisible(n,!1),l.error({message:`Error occurred while loading more images: ${e.message}`,progressBar:!1,transitionIn:"fadeIn",position:"topRight"})}}E.addEventListener("submit",q);c.addEventListener("click",S);
//# sourceMappingURL=index.js.map
